<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Muhlbaier&#39;s Favorite Clinic: Buzzer Module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="muhlbaier.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Muhlbaier&#39;s Favorite Clinic
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__buzzer__module.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Buzzer Module</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module implements control for a buzzer that sounds at different frequencies for different lengths of time.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6b75e04c90a3c65be473f9eba13031cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buzzer__module.html#ga6b75e04c90a3c65be473f9eba13031cd">Buzzer_Init</a> (void)</td></tr>
<tr class="memdesc:ga6b75e04c90a3c65be473f9eba13031cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the buzzer module.  <a href="#ga6b75e04c90a3c65be473f9eba13031cd">More...</a><br /></td></tr>
<tr class="separator:ga6b75e04c90a3c65be473f9eba13031cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb528b6b5565a5d92f1ce6334bdeac02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buzzer__module.html#gadb528b6b5565a5d92f1ce6334bdeac02">Buzzer_Sound</a> (uint16_t frequency, uint16_t timeout)</td></tr>
<tr class="memdesc:gadb528b6b5565a5d92f1ce6334bdeac02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays a sound on the buzzer.  <a href="#gadb528b6b5565a5d92f1ce6334bdeac02">More...</a><br /></td></tr>
<tr class="separator:gadb528b6b5565a5d92f1ce6334bdeac02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga547a46df76180b583d7315530baa2bdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buzzer__module.html#ga547a46df76180b583d7315530baa2bdc">hal_Buzzer_Init</a> (void)</td></tr>
<tr class="memdesc:ga547a46df76180b583d7315530baa2bdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hardware abstaction layer buzzer initialization.  <a href="#ga547a46df76180b583d7315530baa2bdc">More...</a><br /></td></tr>
<tr class="separator:ga547a46df76180b583d7315530baa2bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f890efb01e4f79337754aa6573a43dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buzzer__module.html#ga9f890efb01e4f79337754aa6573a43dd">hal_Start_Buzzer</a> (uint16_t frequency)</td></tr>
<tr class="memdesc:ga9f890efb01e4f79337754aa6573a43dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hardware abstraction layer to start buzzer at a specific frequency.  <a href="#ga9f890efb01e4f79337754aa6573a43dd">More...</a><br /></td></tr>
<tr class="separator:ga9f890efb01e4f79337754aa6573a43dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf497367284509a7d6b854686d7f20d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buzzer__module.html#gaaf497367284509a7d6b854686d7f20d0">hal_Stop_Buzzer</a> (void)</td></tr>
<tr class="memdesc:gaaf497367284509a7d6b854686d7f20d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hardware abstraction layer to stop buzzer.  <a href="#gaaf497367284509a7d6b854686d7f20d0">More...</a><br /></td></tr>
<tr class="separator:gaaf497367284509a7d6b854686d7f20d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module implements control for a buzzer that sounds at different frequencies for different lengths of time. </p>
<p>Created on: Mar 26, 2019</p>
<dl class="section author"><dt>Authors</dt><dd>Nikola Kosaric </dd>
<dd>
Nate Hoffman </dd>
<dd>
Brian Harlow </dd>
<dd>
DJ Stahlberger</dd></dl>
<p>The following module utilizes the task manager and timing module in order to make a buzzer produce a sound at a determined frequency. The timing module is used to control the frequency of the sound produced and the task module is used to control the length of time the buzzer will sound.</p>
<p>In order to utilize this module, first, the <a class="el" href="group__buzzer__module.html#ga6b75e04c90a3c65be473f9eba13031cd" title="Initializes the buzzer module.">Buzzer_Init()</a> must be called. Then, the <a class="el" href="group__buzzer__module.html#gadb528b6b5565a5d92f1ce6334bdeac02" title="Plays a sound on the buzzer.">Buzzer_Sound()</a> function must be called in order to determine the frequency at which the buzzer will sound and the length of time the buzzer will sound in milliseconds. The channel used for the buzzer will be determined in the hardware abstraction layer. At this time, multiple buzzers cannot be attached at once, nor is the pin reconfigurable.</p>
<p>Note that this uses the <a href="https://muhlbaier.github.io/embedded-software/group__task.html">Task Module from embedded-software</a> to schedule a task to shut down the buzzer after the timeout period has elapsed. HAL implementations should be careful to support the full range of frequencies that can be requested by the user of this module (from 1 Hz to 65.535 kHz). HAL implementations may need to adjust prescaling into timers or entirely switch clock sources for the timer depending on how low or high the frequency is. Care should be taken that frequencies are accurate at various frequencies, especially near the point(s) where the clock gets switched out. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6b75e04c90a3c65be473f9eba13031cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6b75e04c90a3c65be473f9eba13031cd">&#9670;&nbsp;</a></span>Buzzer_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Buzzer_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the buzzer module. </p>
<p>Initializes the task manager to allow the module to be used within the <a class="el" href="group__buzzer__module.html#gadb528b6b5565a5d92f1ce6334bdeac02" title="Plays a sound on the buzzer.">Buzzer_Sound()</a> function. Relies on the HAL to configure the timer for operation. Note that a sound is not played when started up. </p>

<p class="definition">Definition at line <a class="el" href="buzzer_8c_source.html#l00008">8</a> of file <a class="el" href="buzzer_8c_source.html">buzzer.c</a>.</p>

</div>
</div>
<a id="gadb528b6b5565a5d92f1ce6334bdeac02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb528b6b5565a5d92f1ce6334bdeac02">&#9670;&nbsp;</a></span>Buzzer_Sound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Buzzer_Sound </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Plays a sound on the buzzer. </p>
<p>Call to play a sound on the buzzer at a specific <code>frequency</code>. This frequency is a positive integer in Hertz. The sound is then played for the <code>timeout</code> number of milliseconds. After the timeout elapses, the buzzer is then stopped. If this method is called while a sound is already playing, the first sound stops and then it plays the new sound.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>Frequency of the buzzer. The maximum value can be 65535, or 65.535 kHz </td></tr>
    <tr><td class="paramname">timeout</td><td>Length at which the buzzer is active in milliseconds </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="buzzer_8c_source.html#l00012">12</a> of file <a class="el" href="buzzer_8c_source.html">buzzer.c</a>.</p>

</div>
</div>
<a id="ga547a46df76180b583d7315530baa2bdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga547a46df76180b583d7315530baa2bdc">&#9670;&nbsp;</a></span>hal_Buzzer_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hal_Buzzer_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hardware abstaction layer buzzer initialization. </p>
<p>Must be implemented for each MCU in hal_buzzer.c and configure the pin which will utilize the buzzer. This can include configuring any timers used to run the buzzer on command. </p>

</div>
</div>
<a id="ga9f890efb01e4f79337754aa6573a43dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f890efb01e4f79337754aa6573a43dd">&#9670;&nbsp;</a></span>hal_Start_Buzzer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hal_Start_Buzzer </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>frequency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hardware abstraction layer to start buzzer at a specific frequency. </p>
<p>Given a <code>frequency</code> in Hertz, oscillate the output pin. The output continuously run without stopping until a separate function is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>Frequency of the buzzer. The maximum value can be 65535, or 65.535 kHz </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaf497367284509a7d6b854686d7f20d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf497367284509a7d6b854686d7f20d0">&#9670;&nbsp;</a></span>hal_Stop_Buzzer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hal_Stop_Buzzer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hardware abstraction layer to stop buzzer. </p>
<p>The buzzer should stop oscillating the output pin when this function is called. This is a stop of the buzzer, but does not free the timer(s) used to play the sound for use in other tasks. The <a class="el" href="group__buzzer__module.html#ga9f890efb01e4f79337754aa6573a43dd" title="Hardware abstraction layer to start buzzer at a specific frequency.">hal_Start_Buzzer()</a> function can be called again and the buzzer will play the new sound. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
