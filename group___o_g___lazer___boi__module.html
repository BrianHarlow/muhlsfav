<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Muhlbaier&#39;s Favorite Clinic: Laser Trap Module Module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="muhlbaier.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Muhlbaier&#39;s Favorite Clinic
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___o_g___lazer___boi__module.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Laser Trap Module Module</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module implements a laser trap for a thief simulation game.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad24bccd291a7c39387f09ea657e37999"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_g___lazer___boi__module.html#gad24bccd291a7c39387f09ea657e37999">Laser_Init</a> (void)</td></tr>
<tr class="memdesc:gad24bccd291a7c39387f09ea657e37999"><td class="mdescLeft">&#160;</td><td class="mdescRight">initializes the laser module for use  <a href="#gad24bccd291a7c39387f09ea657e37999">More...</a><br /></td></tr>
<tr class="separator:gad24bccd291a7c39387f09ea657e37999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78d7a5667b8c2e8f14884e910b35867a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_g___lazer___boi__module.html#ga78d7a5667b8c2e8f14884e910b35867a">Laser_Disarm</a> (void)</td></tr>
<tr class="memdesc:ga78d7a5667b8c2e8f14884e910b35867a"><td class="mdescLeft">&#160;</td><td class="mdescRight">disarms the laser module  <a href="#ga78d7a5667b8c2e8f14884e910b35867a">More...</a><br /></td></tr>
<tr class="separator:ga78d7a5667b8c2e8f14884e910b35867a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5f83da3338513a97f71ba5ac897b091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_g___lazer___boi__module.html#gac5f83da3338513a97f71ba5ac897b091">Check_Object</a> (void)</td></tr>
<tr class="memdesc:gac5f83da3338513a97f71ba5ac897b091"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks to see if the laser being obstructed by the object is reaching the emitter  <a href="#gac5f83da3338513a97f71ba5ac897b091">More...</a><br /></td></tr>
<tr class="separator:gac5f83da3338513a97f71ba5ac897b091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba18648f11bf2fc88989dc33d03917f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_g___lazer___boi__module.html#gaba18648f11bf2fc88989dc33d03917f3">Check_Trip</a> (void)</td></tr>
<tr class="memdesc:gaba18648f11bf2fc88989dc33d03917f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks to see if any of the lasers , excluding the object laser, were tripped  <a href="#gaba18648f11bf2fc88989dc33d03917f3">More...</a><br /></td></tr>
<tr class="separator:gaba18648f11bf2fc88989dc33d03917f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab74e1b500372c5e6d87f9a391be0d859"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_g___lazer___boi__module.html#gab74e1b500372c5e6d87f9a391be0d859">Difficulty</a> (uint8_t data)</td></tr>
<tr class="memdesc:gab74e1b500372c5e6d87f9a391be0d859"><td class="mdescLeft">&#160;</td><td class="mdescRight">receives the difficulty from the master node for the trap  <a href="#gab74e1b500372c5e6d87f9a391be0d859">More...</a><br /></td></tr>
<tr class="separator:gab74e1b500372c5e6d87f9a391be0d859"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module implements a laser trap for a thief simulation game. </p>
<p>Created on: May 6, 2019 </p><dl class="section author"><dt>Author</dt><dd>DJ Stahlberger</dd></dl>
<p>The following module utilizes the Task Schedule and Task Remove functions from <a href="https://github.com/muhlbaier/embedded-software/blob/master/src/task.c">Task.c</a> in order to periodically check whether the trap has been triggered. The Thief Trip function is also used from <a href="https://github.com/muhlbaier/embedded-software/blob/master/src/games/thief.c">Thief.c</a> to notifiy the Master node whenever the trap is tripped.</p>
<p>In order to use this module, Laser_Init has to be called first. Doing this will schedule both Check_Object and Check_Trip to be run at a period of 10ms. These functions will run until Laser_Disarm is called. The difficulty function is utilized by the Thief_Init function to incorporate a score multiplier.</p>
<p>Created on: May 6, 2019 </p><dl class="section author"><dt>Author</dt><dd>DJ Stahlberger </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac5f83da3338513a97f71ba5ac897b091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5f83da3338513a97f71ba5ac897b091">&#9670;&nbsp;</a></span>Check_Object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Check_Object </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks to see if the laser being obstructed by the object is reaching the emitter </p>
<p>Checks to see if the sensor value from the emitter is receiving a signal. If it is, it calls the Disarm function to turn off the trap... (CONGRATS YOU WIN). </p>

<p class="definition">Definition at line <a class="el" href="_o_g___lazer___boi_8c_source.html#l00126">126</a> of file <a class="el" href="_o_g___lazer___boi_8c_source.html">OG_Lazer_Boi.c</a>.</p>

</div>
</div>
<a id="gaba18648f11bf2fc88989dc33d03917f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba18648f11bf2fc88989dc33d03917f3">&#9670;&nbsp;</a></span>Check_Trip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Check_Trip </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks to see if any of the lasers , excluding the object laser, were tripped </p>
<p>Checks the 4 lasers in front of the object for trips. First it checks to see if the laser is being powered, to see if it was already tripped. It then checks the signal from the emitter to see if there was a trip. In the event that this happens, the power pin for that laser is then turned off and the Thief_Trip function is called to send a score to the MASTER node. This score is based off of the difficulty value from the Difficulty function. </p>

<p class="definition">Definition at line <a class="el" href="_o_g___lazer___boi_8c_source.html#l00134">134</a> of file <a class="el" href="_o_g___lazer___boi_8c_source.html">OG_Lazer_Boi.c</a>.</p>

</div>
</div>
<a id="gab74e1b500372c5e6d87f9a391be0d859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab74e1b500372c5e6d87f9a391be0d859">&#9670;&nbsp;</a></span>Difficulty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Difficulty </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>receives the difficulty from the master node for the trap </p>
<p>Utilizes a static variable to hold the difficulty data from the master. This value gets utilized in Check_Trip. This function also uses the LogMsg function to display what the current difficulty is.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>difficulty being passed from the master node </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_o_g___lazer___boi_8c_source.html#l00162">162</a> of file <a class="el" href="_o_g___lazer___boi_8c_source.html">OG_Lazer_Boi.c</a>.</p>

</div>
</div>
<a id="ga78d7a5667b8c2e8f14884e910b35867a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78d7a5667b8c2e8f14884e910b35867a">&#9670;&nbsp;</a></span>Laser_Disarm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Laser_Disarm </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>disarms the laser module </p>
<p>Sets all the power pins for the laser emitters to be 0 so they will no longer be on Also calls the Task_Remove functions on Check_Trip and Check_Object so no trips or false disarms will be called. </p>

<p class="definition">Definition at line <a class="el" href="_o_g___lazer___boi_8c_source.html#l00097">97</a> of file <a class="el" href="_o_g___lazer___boi_8c_source.html">OG_Lazer_Boi.c</a>.</p>

</div>
</div>
<a id="gad24bccd291a7c39387f09ea657e37999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad24bccd291a7c39387f09ea657e37999">&#9670;&nbsp;</a></span>Laser_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Laser_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>initializes the laser module for use </p>
<p>Initializes the pins for the laser receivers and emitters as well as calls the Task_Schedule function for Check_Object and Check_Trip so they will be polled for a trip. </p>

<p class="definition">Definition at line <a class="el" href="_o_g___lazer___boi_8c_source.html#l00024">24</a> of file <a class="el" href="_o_g___lazer___boi_8c_source.html">OG_Lazer_Boi.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
